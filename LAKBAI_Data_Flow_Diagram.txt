LAKBAI Tourism Recommendation System - Data Flow Diagram (DFD)
================================================================

ğŸŒŠ LAKBAI DATA FLOW DIAGRAM ğŸŒŠ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š LEVEL 0 - CONTEXT DIAGRAM (System Overview)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DFD COMPONENT LEGEND:
ğŸ”² EXTERNAL ENTITY    â—‹ PROCESS    â• DATA STORE    â”€â”€â†’ DATA FLOW

                    ğŸŒ External World
                         â”‚
                         â–¼
ğŸ”²â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Location Data  â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   Tourist   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                         â”‚
  â”‚   (User)    â”‚                 â”‚       LAKBAI            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚   Tourism System       â”‚
           â”‚                      â”‚      (Process 0)        â”‚
           â”‚ Route Requests        â”‚                         â”‚
           â”‚ POI Preferences       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Feedback                        â”‚
           â–¼                                 â”‚
ğŸ”²â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚ OSRM Queries
  â”‚   Mobile    â”‚                          â”‚ Map Data
  â”‚   Device    â”‚                          â–¼
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               ğŸ”²â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–²                      â”‚     OpenStreetMap       â”‚
           â”‚                      â”‚    (OSRM Service)       â”‚
           â”‚ Offline Navigation   â”‚                         â”‚
           â”‚ Turn-by-turn         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                 â–²
           â–¼                                 â”‚
ğŸ”²â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚ POI Database
  â”‚  GPS/Maps   â”‚                          â”‚ User Visit History
  â”‚  Services   â”‚                          â–¼
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â•â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚    Historical Data      â”‚
                                 â”‚   (CSV Files/DB)        â”‚
                                 â”‚      (Data Store)       â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ LEVEL 1 - MAJOR PROCESSES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”² Tourist â”€â”€â”
          â”‚ 1. Route Request â”€â”€â†’ DATA FLOW
          â”‚ 2. Location Data â”€â”€â†’ DATA FLOW
          â–¼
    â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     1.0     â”‚ â—„â”€â”€â”€â”€ POI Database â”€â”€â†’ DATA FLOW
     â”‚   Request   â”‚ â—„â”€â”€â”€â”€ User Preferences â”€â”€â†’ DATA FLOW
     â”‚ Processing  â”‚ â—„â”€â”€â”€â”€ Historical Visits â”€â”€â†’ DATA FLOW
     â”‚  (PROCESS)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Processed Request â”€â”€â†’ DATA FLOW
          â–¼
    â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     2.0     â”‚ â—„â”€â”€â”€â”€ BERT Model â”€â”€â†’ DATA FLOW
     â”‚    AI       â”‚ â—„â”€â”€â”€â”€ Theme Classifications â”€â”€â†’ DATA FLOW
     â”‚Recommendationâ”‚ â—„â”€â”€â”€â”€ User Patterns â”€â”€â†’ DATA FLOW
     â”‚  (PROCESS)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ AI Predictions â”€â”€â†’ DATA FLOW
          â–¼
    â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     3.0     â”‚ â—„â”€â”€â”€â”€ OSRM Data â”€â”€â†’ DATA FLOW
     â”‚   Route     â”‚ â—„â”€â”€â”€â”€ Distance Matrix â”€â”€â†’ DATA FLOW
     â”‚ Calculation â”‚ â—„â”€â”€â”€â”€ Transportation Mode â”€â”€â†’ DATA FLOW
     â”‚  (PROCESS)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Optimized Routes â”€â”€â†’ DATA FLOW
          â–¼
    â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     4.0     â”‚ â”€â”€â”€â–º Offline Cache â”€â”€â†’ DATA FLOW
     â”‚   Offline   â”‚ â”€â”€â”€â–º Local Storage â”€â”€â†’ DATA FLOW
     â”‚ Preparation â”‚ â”€â”€â”€â–º Map Tiles â”€â”€â†’ DATA FLOW
     â”‚  (PROCESS)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Complete Route Package â”€â”€â†’ DATA FLOW
          â–¼
    â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     5.0     â”‚ â”€â”€â”€â–º Web Interface â”€â”€â†’ DATA FLOW
     â”‚   Result    â”‚ â”€â”€â”€â–º Mobile App â”€â”€â†’ DATA FLOW
     â”‚ Delivery    â”‚ â”€â”€â”€â–º API Response â”€â”€â†’ DATA FLOW
     â”‚  (PROCESS)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
      ğŸ”² Tourist

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” LEVEL 2 - DETAILED PROCESS BREAKDOWN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PROCESS 1.0 - REQUEST PROCESSING             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”² Tourist Request â”€â”€â”
                  â–¼ (User Input Data Flow)
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    1.1      â”‚ â—„â”€â”€â”€â”€ â• User Profile DB (DATA STORE)
             â”‚   User      â”‚ â—„â”€â”€â”€â”€ â• Session Data (DATA STORE)
             â”‚Authenticationâ”‚ â—„â”€â”€â”€â”€ â• Preferences (DATA STORE)
             â”‚  (PROCESS)  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Authenticated User â”€â”€â†’ DATA FLOW
                  â–¼
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    1.2      â”‚ â—„â”€â”€â”€â”€ â• Input Validation Rules (DATA STORE)
             â”‚   Input     â”‚ â—„â”€â”€â”€â”€ â• Rate Limiting Config (DATA STORE)
             â”‚ Validation  â”‚ â—„â”€â”€â”€â”€ â• Security Policies (DATA STORE)
             â”‚  (PROCESS)  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Valid Request â”€â”€â†’ DATA FLOW
                  â–¼
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    1.3      â”‚ â—„â”€â”€â”€â”€ â• POI-Legazpi.csv (DATA STORE)
             â”‚   Context   â”‚ â—„â”€â”€â”€â”€ â• user_hometown.csv (DATA STORE)
             â”‚  Building   â”‚ â—„â”€â”€â”€â”€ â• userVisits-Legazpi-allPOI.csv (DATA STORE)
             â”‚  (PROCESS)  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Context Data â”€â”€â†’ DATA FLOW
                  â–¼
                To Process 2.0

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PROCESS 2.0 - AI RECOMMENDATION ENGINE           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Context Data â”€â”€â” (DATA FLOW from Process 1.0)
               â–¼
         â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    2.1      â”‚ â—„â”€â”€â”€â”€ â• smart_cache.pkl (DATA STORE)
          â”‚   Cache     â”‚ â—„â”€â”€â”€â”€ â• bert_predictions_cache (DATA STORE)
          â”‚   Check     â”‚ â—„â”€â”€â”€â”€ â• popular_routes_from_data (DATA STORE)
          â”‚ (PROCESS)   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Cache Miss/Hit â”€â”€â†’ DATA FLOW
               â–¼
         â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    2.2      â”‚ â—„â”€â”€â”€â”€ â• BERT Model (output_Legazpi_e1_bert/) (DATA STORE)
          â”‚    BERT     â”‚ â—„â”€â”€â”€â”€ â• config.json, model.safetensors (DATA STORE)
          â”‚ Inference   â”‚ â—„â”€â”€â”€â”€ â• tokenizer.json, vocab.txt (DATA STORE)
          â”‚ (PROCESS)   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ AI Predictions â”€â”€â†’ DATA FLOW
               â–¼
         â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    2.3      â”‚ â—„â”€â”€â”€â”€ â• Real User Patterns (DATA STORE)
          â”‚  Hybrid     â”‚ â—„â”€â”€â”€â”€ â• Theme Preferences (DATA STORE)
          â”‚Optimization â”‚ â—„â”€â”€â”€â”€ â• Transition Analysis (DATA STORE)
          â”‚ (PROCESS)   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Optimized Recommendations â”€â”€â†’ DATA FLOW
               â–¼
         â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    2.4      â”‚ â”€â”€â”€â–º â• Updated Cache (DATA STORE)
          â”‚   Score     â”‚ â”€â”€â”€â–º â• Performance Metrics (DATA STORE)
          â”‚ Calculation â”‚ â”€â”€â”€â–º â• Analytics Data (DATA STORE)
          â”‚ (PROCESS)   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Scored Recommendations â”€â”€â†’ DATA FLOW
               â–¼
             To Process 3.0

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               PROCESS 3.0 - ROUTE CALCULATION                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Recommendations â”€â”€â” (DATA FLOW from Process 2.0)
                  â–¼
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    3.1      â”‚ â—„â”€â”€â”€â”€ â• OSRM Car Data (DATA STORE)
             â”‚Transportationâ”‚ â—„â”€â”€â”€â”€ â• OSRM Bicycle Data (DATA STORE)
             â”‚Mode Selectionâ”‚ â—„â”€â”€â”€â”€ â• OSRM Foot Data (DATA STORE)
             â”‚  (PROCESS)  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Selected Mode â”€â”€â†’ DATA FLOW
                  â–¼
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    3.2      â”‚ â—„â”€â”€â”€â”€ â• legazpi.osrm.geometry (DATA STORE)
             â”‚   OSRM      â”‚ â—„â”€â”€â”€â”€ â• legazpi.osrm.cells (DATA STORE)
             â”‚  Routing    â”‚ â—„â”€â”€â”€â”€ â• Distance Matrix (DATA STORE)
             â”‚ (PROCESS)   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Route Segments â”€â”€â†’ DATA FLOW
                  â–¼
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    3.3      â”‚ â—„â”€â”€â”€â”€ â• Bootstrap Duration Data (DATA STORE)
             â”‚   Time      â”‚ â—„â”€â”€â”€â”€ â• POI Visit Durations (DATA STORE)
             â”‚ Estimation  â”‚ â—„â”€â”€â”€â”€ â• Traffic Patterns (DATA STORE)
             â”‚ (PROCESS)   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Time Estimates â”€â”€â†’ DATA FLOW
                  â–¼
            â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    3.4      â”‚ â”€â”€â”€â–º â• Optimized Route (DATA STORE)
             â”‚   Route     â”‚ â”€â”€â”€â–º â• Turn-by-turn Instructions (DATA STORE)
             â”‚Optimization â”‚ â”€â”€â”€â–º â• Alternative Paths (DATA STORE)
             â”‚ (PROCESS)   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Complete Route Data â”€â”€â†’ DATA FLOW
                  â–¼
                To Process 4.0

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PROCESS 4.0 - OFFLINE PREPARATION                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Route Data â”€â”€â” (DATA FLOW from Process 3.0)
             â–¼
       â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    4.1      â”‚ â—„â”€â”€â”€â”€ â• Map Tile Sources (DATA STORE)
        â”‚    Map      â”‚ â—„â”€â”€â”€â”€ â• Zoom Level Config (DATA STORE)
        â”‚   Tile      â”‚ â—„â”€â”€â”€â”€ â• Region Boundaries (DATA STORE)
        â”‚ Download    â”‚
        â”‚ (PROCESS)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Map Tiles â”€â”€â†’ DATA FLOW
             â–¼
       â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    4.2      â”‚ â—„â”€â”€â”€â”€ â• POI Metadata (DATA STORE)
        â”‚   Offline   â”‚ â—„â”€â”€â”€â”€ â• Route Instructions (DATA STORE)
        â”‚   Data      â”‚ â—„â”€â”€â”€â”€ â• Navigation Points (DATA STORE)
        â”‚ Packaging   â”‚
        â”‚ (PROCESS)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Offline Package â”€â”€â†’ DATA FLOW
             â–¼
       â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    4.3      â”‚ â”€â”€â”€â–º â• Local SQLite DB (DATA STORE)
        â”‚   Local     â”‚ â”€â”€â”€â–º â• Cache Files (DATA STORE)
        â”‚  Storage    â”‚ â”€â”€â”€â–º â• Compressed Data (DATA STORE)
        â”‚ (PROCESS)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Stored Data â”€â”€â†’ DATA FLOW
             â–¼
       â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    4.4      â”‚ â”€â”€â”€â–º â• Sync Status (DATA STORE)
        â”‚   Sync      â”‚ â”€â”€â”€â–º â• Version Control (DATA STORE)
        â”‚ Management  â”‚ â”€â”€â”€â–º â• Update Flags (DATA STORE)
        â”‚ (PROCESS)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ Sync Metadata â”€â”€â†’ DATA FLOW
             â–¼
           To Process 5.0

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PROCESS 5.0 - RESULT DELIVERY                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Complete Data â”€â”€â” (DATA FLOW from Process 4.0)
                â–¼
          â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚    5.1      â”‚ â—„â”€â”€â”€â”€ â• Response Format Templates (DATA STORE)
           â”‚  Response   â”‚ â—„â”€â”€â”€â”€ â• API Documentation (DATA STORE)
           â”‚ Formatting  â”‚ â—„â”€â”€â”€â”€ â• Client Requirements (DATA STORE)
           â”‚ (PROCESS)   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Formatted Response â”€â”€â†’ DATA FLOW
                â–¼
          â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚    5.2      â”‚ â”€â”€â”€â–º ğŸ”² Web API Response (EXTERNAL ENTITY)
           â”‚   Multi     â”‚ â”€â”€â”€â–º ğŸ”² Mobile App Data (EXTERNAL ENTITY)
           â”‚  Platform   â”‚ â”€â”€â”€â–º ğŸ”² WebSocket Updates (EXTERNAL ENTITY)
           â”‚ Delivery    â”‚
           â”‚ (PROCESS)   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Platform-specific Data â”€â”€â†’ DATA FLOW
                â–¼
          â—‹â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚    5.3      â”‚ â”€â”€â”€â–º â• User Analytics (DATA STORE)
           â”‚Performance  â”‚ â”€â”€â”€â–º â• Response Time Logs (DATA STORE)
           â”‚ Monitoring  â”‚ â”€â”€â”€â–º â• Error Tracking (DATA STORE)
           â”‚ (PROCESS)   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Metrics â”€â”€â†’ DATA FLOW
                â–¼
            ğŸ”² Tourist (EXTERNAL ENTITY)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š DATA STORES (Repository Details)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•D1 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    POI DATABASE (DATA STORE)                â”‚
    â”‚                                                             â”‚
    â”‚ â–ª POI-Legazpi.csv                                           â”‚
    â”‚   â”œâ”€â”€ poiID (Primary Key)                                   â”‚
    â”‚   â”œâ”€â”€ poiName                                               â”‚
    â”‚   â”œâ”€â”€ theme (Cultural, Park, Religious, etc.)              â”‚
    â”‚   â”œâ”€â”€ lat, long (GPS Coordinates)                          â”‚
    â”‚   â””â”€â”€ description                                           â”‚
    â”‚                                                             â”‚
    â”‚ â–ª userVisits-Legazpi-allPOI.csv                            â”‚
    â”‚   â”œâ”€â”€ userID                                                â”‚
    â”‚   â”œâ”€â”€ poiID (Foreign Key)                                   â”‚
    â”‚   â”œâ”€â”€ seqID (Visit sequence)                               â”‚
    â”‚   â”œâ”€â”€ dateTaken (Timestamp)                                â”‚
    â”‚   â””â”€â”€ visitDuration                                         â”‚
    â”‚                                                             â”‚
    â”‚ â–ª user_hometown.csv                                         â”‚
    â”‚   â”œâ”€â”€ UserID (Primary Key)                                  â”‚
    â”‚   â”œâ”€â”€ JoinDate                                              â”‚
    â”‚   â”œâ”€â”€ Occupation                                            â”‚
    â”‚   â”œâ”€â”€ Hometown, current_city, country                      â”‚
    â”‚   â””â”€â”€ preferences                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•D2 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 AI MODEL STORE (DATA STORE)                â”‚
    â”‚                                                             â”‚
    â”‚ â–ª output_Legazpi_e1_bert/                                   â”‚
    â”‚   â”œâ”€â”€ config.json (Model Configuration)                     â”‚
    â”‚   â”œâ”€â”€ model.safetensors (Trained Weights)                  â”‚
    â”‚   â”œâ”€â”€ tokenizer.json (Text Processing)                     â”‚
    â”‚   â”œâ”€â”€ vocab.txt (Vocabulary)                               â”‚
    â”‚   â”œâ”€â”€ special_tokens_map.json                              â”‚
    â”‚   â””â”€â”€ training_args.bin                                     â”‚
    â”‚                                                             â”‚
    â”‚ â–ª smart_cache.pkl                                           â”‚
    â”‚   â”œâ”€â”€ popular_routes_from_data                             â”‚
    â”‚   â”œâ”€â”€ bert_predictions_cache                               â”‚
    â”‚   â”œâ”€â”€ theme_groups                                         â”‚
    â”‚   â”œâ”€â”€ distance_matrix                                      â”‚
    â”‚   â””â”€â”€ performance_metrics                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•D3 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               NAVIGATION DATA STORE (DATA STORE)           â”‚
    â”‚                                                             â”‚
    â”‚ â–ª osrm-docker/bicycle/                                      â”‚
    â”‚   â”œâ”€â”€ legazpi.osm.pbf (Map Data)                           â”‚
    â”‚   â”œâ”€â”€ legazpi.osrm.geometry (Route Geometry)               â”‚
    â”‚   â”œâ”€â”€ legazpi.osrm.cells (Routing Cells)                   â”‚
    â”‚   â”œâ”€â”€ legazpi.osrm.edges (Road Network)                    â”‚
    â”‚   â””â”€â”€ [routing optimization files]                          â”‚
    â”‚                                                             â”‚
    â”‚ â–ª osrm-docker/car/ (Same structure for cars)               â”‚
    â”‚ â–ª osrm-docker/foot/ (Same structure for walking)           â”‚
    â”‚                                                             â”‚
    â”‚ â–ª Distance Matrix Cache                                     â”‚
    â”‚   â”œâ”€â”€ POI-to-POI distances                                 â”‚
    â”‚   â”œâ”€â”€ Travel time estimates                                â”‚
    â”‚   â””â”€â”€ Route alternatives                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•D4 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  USER SESSION STORE (DATA STORE)           â”‚
    â”‚                                                             â”‚
    â”‚ â–ª Active Sessions                                           â”‚
    â”‚   â”œâ”€â”€ session_id                                            â”‚
    â”‚   â”œâ”€â”€ user_preferences                                      â”‚
    â”‚   â”œâ”€â”€ current_route                                         â”‚
    â”‚   â”œâ”€â”€ last_activity                                         â”‚
    â”‚   â””â”€â”€ device_info                                           â”‚
    â”‚                                                             â”‚
    â”‚ â–ª Offline Data Cache                                        â”‚
    â”‚   â”œâ”€â”€ downloaded_regions                                    â”‚
    â”‚   â”œâ”€â”€ cached_recommendations                               â”‚
    â”‚   â”œâ”€â”€ saved_routes                                         â”‚
    â”‚   â””â”€â”€ sync_status                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•D5 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 ANALYTICS DATA STORE (DATA STORE)          â”‚
    â”‚                                                             â”‚
    â”‚ â–ª Performance Metrics                                       â”‚
    â”‚   â”œâ”€â”€ api_response_times                                    â”‚
    â”‚   â”œâ”€â”€ bert_inference_times                                 â”‚
    â”‚   â”œâ”€â”€ cache_hit_rates                                      â”‚
    â”‚   â”œâ”€â”€ error_logs                                           â”‚
    â”‚   â””â”€â”€ system_resource_usage                                â”‚
    â”‚                                                             â”‚
    â”‚ â–ª User Behavior Analytics                                   â”‚
    â”‚   â”œâ”€â”€ route_popularity                                     â”‚
    â”‚   â”œâ”€â”€ poi_visit_patterns                                   â”‚
    â”‚   â”œâ”€â”€ recommendation_acceptance                            â”‚
    â”‚   â”œâ”€â”€ offline_usage_stats                                  â”‚
    â”‚   â””â”€â”€ user_journey_analysis                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”„ DATA FLOW PATTERNS & SCENARIOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SCENARIO 1: ONLINE RECOMMENDATION            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”² Tourist Request (Starting POI + Preferences) â”€â”€â†’ DATA FLOW
    â”‚
    â”œâ”€â–º â—‹ Process 1.0: Authentication & Validation
    â”‚   â”œâ”€â–º â• D1: User Profile Lookup (DATA STORE)
    â”‚   â””â”€â–º â• D4: Session Creation (DATA STORE)
    â”‚
    â”œâ”€â–º â—‹ Process 2.0: AI Recommendation
    â”‚   â”œâ”€â–º â• D2: Check Cache (smart_cache.pkl) (DATA STORE)
    â”‚   â”œâ”€â–º â• D2: BERT Model Inference (if cache miss) (DATA STORE)
    â”‚   â”œâ”€â–º â• D1: Historical Visit Analysis (DATA STORE)
    â”‚   â””â”€â–º â• D2: Update Cache with new predictions (DATA STORE)
    â”‚
    â”œâ”€â–º â—‹ Process 3.0: Route Calculation
    â”‚   â”œâ”€â–º â• D3: OSRM Route Query (DATA STORE)
    â”‚   â”œâ”€â–º â• D3: Distance Matrix Lookup (DATA STORE)
    â”‚   â””â”€â–º â—‹ Process: Duration Estimation
    â”‚
    â”œâ”€â–º â—‹ Process 4.0: Offline Package Preparation
    â”‚   â”œâ”€â–º â• D3: Map Tile Selection (DATA STORE)
    â”‚   â”œâ”€â–º â• D4: Local Storage Preparation (DATA STORE)
    â”‚   â””â”€â–º â—‹ Process: Data Compression
    â”‚
    â””â”€â–º â—‹ Process 5.0: Response Delivery
        â”œâ”€â–º â• D5: Performance Logging (DATA STORE)
        â”œâ”€â–º â• D5: User Analytics Tracking (DATA STORE)
        â””â”€â–º ğŸ”² Tourist: Complete Route Package (EXTERNAL ENTITY)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SCENARIO 2: OFFLINE NAVIGATION               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”² Tourist Request (Current Location + Destination) â”€â”€â†’ DATA FLOW
    â”‚
    â”œâ”€â–º â—‹ Local Process: Offline Route Calculation
    â”‚   â”œâ”€â–º â• D4: Local OSRM Data Query (DATA STORE)
    â”‚   â”œâ”€â–º â• D4: Cached POI Information (DATA STORE)
    â”‚   â””â”€â–º â• D4: Stored Recommendations (DATA STORE)
    â”‚
    â”œâ”€â–º â—‹ Local Process: GPS Navigation
    â”‚   â”œâ”€â–º ğŸ”² Device: GPS Location Updates (EXTERNAL ENTITY)
    â”‚   â”œâ”€â–º â• D4: Route Progress Tracking (DATA STORE)
    â”‚   â””â”€â–º â—‹ Process: Turn-by-turn Instructions
    â”‚
    â””â”€â–º â—‹ Background Process: Sync Preparation
        â”œâ”€â–º â• D4: Queue User Actions (DATA STORE)
        â”œâ”€â–º â• D4: Store Offline Analytics (DATA STORE)
        â””â”€â–º â—‹ Process: Prepare Upload Data

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SCENARIO 3: BERT MODEL TRAINING                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Historical Data Input â”€â”€â†’ DATA FLOW
    â”‚
    â”œâ”€â–º â—‹ Process: Data Preprocessing
    â”‚   â”œâ”€â–º â• D1: Load User Visit Data (DATA STORE)
    â”‚   â”œâ”€â–º â• D1: POI Theme Classification (DATA STORE)
    â”‚   â””â”€â–º â—‹ Process: Feature Engineering
    â”‚
    â”œâ”€â–º â—‹ Process: BERT Training
    â”‚   â”œâ”€â–º â—‹ Process: Sequence Generation
    â”‚   â”œâ”€â–º â—‹ Process: Model Training Loop
    â”‚   â””â”€â–º â—‹ Process: Validation & Testing
    â”‚
    â”œâ”€â–º â—‹ Process: Model Optimization
    â”‚   â”œâ”€â–º â—‹ Process: Hyperparameter Tuning
    â”‚   â”œâ”€â–º â—‹ Process: Performance Evaluation
    â”‚   â””â”€â–º â—‹ Process: Model Selection
    â”‚
    â””â”€â–º Output: Trained Model â”€â”€â†’ DATA FLOW
        â”œâ”€â–º â• D2: Save Model Artifacts (DATA STORE)
        â”œâ”€â–º â• D2: Update Model Configuration (DATA STORE)
        â””â”€â–º â• D2: Generate Prediction Cache (DATA STORE)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SCENARIO 4: HYBRID SMART CACHING                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

System Initialization â”€â”€â†’ DATA FLOW
    â”‚
    â”œâ”€â–º â—‹ Process: Cache Building
    â”‚   â”œâ”€â–º â• D1: Analyze Real User Patterns (DATA STORE)
    â”‚   â”œâ”€â–º â• D1: Extract Popular Transitions (DATA STORE)
    â”‚   â”œâ”€â–º â• D1: Calculate Theme Preferences (DATA STORE)
    â”‚   â””â”€â–º â• D2: Pre-compute BERT Predictions (DATA STORE)
    â”‚
    â”œâ”€â–º â—‹ Process: Performance Optimization
    â”‚   â”œâ”€â–º â• D2: Build Distance Matrix (DATA STORE)
    â”‚   â”œâ”€â–º â• D2: Create Theme Groups (DATA STORE)
    â”‚   â”œâ”€â–º â• D2: Generate Quick Lookups (DATA STORE)
    â”‚   â””â”€â–º â• D3: Optimize OSRM Queries (DATA STORE)
    â”‚
    â””â”€â–º Output: Smart Cache â”€â”€â†’ DATA FLOW
        â”œâ”€â–º â• D2: Save Optimized Cache (DATA STORE)
        â”œâ”€â–º â• D5: Log Cache Performance (DATA STORE)
        â””â”€â–º â—‹ Process: Enable Fast Responses

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ˆ DFD COMPONENT SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”² EXTERNAL ENTITIES (Sources & Destinations of Data):
   â€¢ Tourist (User) - Primary system user
   â€¢ Mobile Device - Physical device interface
   â€¢ GPS/Maps Services - Location data provider
   â€¢ OpenStreetMap (OSRM Service) - Navigation data source
   â€¢ Web API Response - External web clients
   â€¢ Mobile App Data - External mobile clients
   â€¢ WebSocket Updates - Real-time communication

â—‹ PROCESSES (Data Transformation Activities):
   â€¢ 1.0 Request Processing - User input validation & context building
   â€¢ 2.0 AI Recommendation - BERT-based intelligent recommendations
   â€¢ 3.0 Route Calculation - OSRM-based routing & optimization
   â€¢ 4.0 Offline Preparation - Data packaging for offline use
   â€¢ 5.0 Result Delivery - Multi-platform response formatting
   â€¢ Sub-processes (1.1-5.3) - Detailed transformation steps

â• DATA STORES (Data at Rest):
   â€¢ D1 POI Database - Tourism points & user visit history
   â€¢ D2 AI Model Store - BERT models & smart cache
   â€¢ D3 Navigation Data Store - OSRM routing data
   â€¢ D4 User Session Store - Active sessions & offline cache
   â€¢ D5 Analytics Data Store - Performance & behavior metrics

â”€â”€â†’ DATA FLOWS (Data in Motion):
   â€¢ User Input Data Flow - Request & preference data
   â€¢ AI Predictions Data Flow - BERT recommendation results
   â€¢ Route Data Flow - Navigation & timing information
   â€¢ Cache Data Flow - Performance optimization data
   â€¢ Response Data Flow - Final results to users

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ˆ DATA TRANSFORMATION DETAILS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ INPUT TRANSFORMATIONS:
   Raw User Request â†’ Validated API Request â†’ Context Object
   GPS Coordinates â†’ Spatial Query â†’ Nearest POIs
   User Preferences â†’ Feature Vector â†’ BERT Input Sequence

ğŸ§  AI PROCESSING TRANSFORMATIONS:
   Historical Visits â†’ User Patterns â†’ Preference Profiles
   POI Sequences â†’ BERT Tokens â†’ Masked Predictions
   Real User Data â†’ Statistical Analysis â†’ Recommendation Rules

ğŸ—ºï¸ NAVIGATION TRANSFORMATIONS:
   POI List â†’ Coordinate Pairs â†’ OSRM Route Query
   Route Geometry â†’ Turn Instructions â†’ Navigation Steps
   Distance Matrix â†’ Time Estimates â†’ Duration Predictions

ğŸ“± OUTPUT TRANSFORMATIONS:
   Route Data â†’ JSON Response â†’ Web Interface
   Navigation Steps â†’ Voice Instructions â†’ Mobile App
   Offline Package â†’ Compressed Data â†’ Local Storage

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ PERFORMANCE OPTIMIZATIONS IN DATA FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ SPEED OPTIMIZATIONS:
   â€¢ Cache-First Strategy: Check D2 before BERT inference
   â€¢ Pre-computed Matrices: D3 distance lookups (sub-millisecond)
   â€¢ Parallel Processing: Multiple recommendation sources
   â€¢ Smart Fallbacks: Rule-based when BERT unavailable

ğŸ’¾ STORAGE OPTIMIZATIONS:
   â€¢ Compressed Cache: Pickle format for fast I/O
   â€¢ Indexed Lookups: Hash-based POI retrieval
   â€¢ Lazy Loading: Load data only when needed
   â€¢ Smart Cleanup: Remove stale cache entries

ğŸŒ NETWORK OPTIMIZATIONS:
   â€¢ Offline-First: Local data takes precedence
   â€¢ Background Sync: Upload analytics when connected
   â€¢ Differential Updates: Only sync changed data
   â€¢ Compression: Minimize data transfer size

This comprehensive DFD shows how your LAKBAI system efficiently processes
tourism data through multiple layers, balancing AI intelligence with
real-time performance requirements while maintaining full offline
capabilities.
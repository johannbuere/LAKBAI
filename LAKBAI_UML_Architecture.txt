LAKBAI Tourism Recommendation System - UML Architecture Diagram
==============================================================

ğŸ“± LAKBAI PROJECT STRUCTURE ğŸ“±
â”œâ”€â”€ ğŸ¯ Core System Components
â”‚   â”œâ”€â”€ ğŸ§  AI/ML Components
â”‚   â”‚   â”œâ”€â”€ BTRec_RecTour23 (Main BERT Recommender)
â”‚   â”‚   â”‚   â”œâ”€â”€ - bert_model: ClassificationModel
â”‚   â”‚   â”‚   â”œâ”€â”€ - theme2num: Dict[str, int]
â”‚   â”‚   â”‚   â”œâ”€â”€ - poi2theme: Dict[int, str]
â”‚   â”‚   â”‚   â”œâ”€â”€ - dist_dict: Dict[tuple, float]
â”‚   â”‚   â”‚   â”œâ”€â”€ + train_bert_model()
â”‚   â”‚   â”‚   â”œâ”€â”€ + predict_user()
â”‚   â”‚   â”‚   â”œâ”€â”€ + predict_mask()
â”‚   â”‚   â”‚   â”œâ”€â”€ + get_themes_ids()
â”‚   â”‚   â”‚   â””â”€â”€ + test_user_preference()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ HybridSmartRecommender (Fast Optimization Layer)
â”‚   â”‚   â”‚   â”œâ”€â”€ - bert_model: ClassificationModel
â”‚   â”‚   â”‚   â”œâ”€â”€ - popular_routes_from_data: Dict
â”‚   â”‚   â”‚   â”œâ”€â”€ - bert_predictions_cache: Dict
â”‚   â”‚   â”‚   â”œâ”€â”€ - theme_groups: Dict[str, List]
â”‚   â”‚   â”‚   â”œâ”€â”€ - distance_matrix: Dict[tuple, float]
â”‚   â”‚   â”‚   â”œâ”€â”€ + initialize()
â”‚   â”‚   â”‚   â”œâ”€â”€ + recommend_next_pois()
â”‚   â”‚   â”‚   â”œâ”€â”€ + analyze_real_user_patterns()
â”‚   â”‚   â”‚   â”œâ”€â”€ + precompute_bert_predictions()
â”‚   â”‚   â”‚   â””â”€â”€ + get_bert_predictions_for_route()
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Bootstrap (Distance & Duration Calculator)
â”‚   â”‚       â”œâ”€â”€ - osrm_client: OSRM
â”‚   â”‚       â”œâ”€â”€ + inferPOITimes2()
â”‚   â”‚       â”œâ”€â”€ + get_distance_matrix()
â”‚   â”‚       â””â”€â”€ + calculate_route_duration()
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ’¾ Data Management Components
â”‚   â”‚   â”œâ”€â”€ POIData (Point of Interest Handler)
â”‚   â”‚   â”‚   â”œâ”€â”€ - poi_df: DataFrame
â”‚   â”‚   â”‚   â”œâ”€â”€ - user_visits_df: DataFrame
â”‚   â”‚   â”‚   â”œâ”€â”€ - poi_name_dict: Dict[int, str]
â”‚   â”‚   â”‚   â”œâ”€â”€ + load_files()
â”‚   â”‚   â”‚   â”œâ”€â”€ + load_dataset()
â”‚   â”‚   â”‚   â”œâ”€â”€ + getThemes()
â”‚   â”‚   â”‚   â”œâ”€â”€ + getPOIFullNames()
â”‚   â”‚   â”‚   â””â”€â”€ + getPOIThemes()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ConfigManager (Global Settings)
â”‚   â”‚   â”‚   â”œâ”€â”€ - setting: Dict
â”‚   â”‚   â”‚   â”œâ”€â”€ - theme2color: Dict[str, str]
â”‚   â”‚   â”‚   â”œâ”€â”€ - bertlog: Logger
â”‚   â”‚   â”‚   â”œâ”€â”€ - bootlog: Logger
â”‚   â”‚   â”‚   â””â”€â”€ + get_configuration()
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ CacheManager (Performance Optimization)
â”‚   â”‚       â”œâ”€â”€ - smart_cache: Dict
â”‚   â”‚       â”œâ”€â”€ - cache_file: str
â”‚   â”‚       â”œâ”€â”€ + load_smart_cache()
â”‚   â”‚       â”œâ”€â”€ + save_smart_cache()
â”‚   â”‚       â””â”€â”€ + build_smart_cache()
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ”§ Utility Components
â”‚       â”œâ”€â”€ CommonUtils (Shared Functions)
â”‚       â”‚   â”œâ”€â”€ + f1_scores()
â”‚       â”‚   â”œâ”€â”€ + LINE()
â”‚       â”‚   â””â”€â”€ + bertlog()
â”‚       â”‚
â”‚       â””â”€â”€ OSRMIntegration (Navigation Engine)
â”‚           â”œâ”€â”€ - bicycle_profile: OSRMData
â”‚           â”œâ”€â”€ - car_profile: OSRMData
â”‚           â”œâ”€â”€ - foot_profile: OSRMData
â”‚           â”œâ”€â”€ + get_route()
â”‚           â”œâ”€â”€ + get_distance()
â”‚           â””â”€â”€ + get_duration()
â”‚
â”œâ”€â”€ ğŸŒ Web Application Layer
â”‚   â”œâ”€â”€ ğŸ¨ Frontend (React TypeScript)
â”‚   â”‚   â”œâ”€â”€ App (Main Application Component)
â”‚   â”‚   â”‚   â”œâ”€â”€ - currentRoute: POI[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - recommendations: Recommendation[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - isOffline: boolean
â”‚   â”‚   â”‚   â”œâ”€â”€ - savedRoutes: Route[]
â”‚   â”‚   â”‚   â”œâ”€â”€ + handleRouteSelection()
â”‚   â”‚   â”‚   â”œâ”€â”€ + getRecommendations()
â”‚   â”‚   â”‚   â”œâ”€â”€ + saveRouteOffline()
â”‚   â”‚   â”‚   â””â”€â”€ + loadOfflineRoutes()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ MapComponent (Interactive Map)
â”‚   â”‚   â”‚   â”œâ”€â”€ - mapInstance: Map
â”‚   â”‚   â”‚   â”œâ”€â”€ - markers: Marker[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - routeLayer: Layer
â”‚   â”‚   â”‚   â”œâ”€â”€ + displayPOIs()
â”‚   â”‚   â”‚   â”œâ”€â”€ + showRoute()
â”‚   â”‚   â”‚   â”œâ”€â”€ + enableOfflineMode()
â”‚   â”‚   â”‚   â””â”€â”€ + updateCurrentLocation()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ RecommendationPanel (AI Suggestions Display)
â”‚   â”‚   â”‚   â”œâ”€â”€ - recommendations: Recommendation[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - loading: boolean
â”‚   â”‚   â”‚   â”œâ”€â”€ + displayRecommendations()
â”‚   â”‚   â”‚   â”œâ”€â”€ + handlePOISelection()
â”‚   â”‚   â”‚   â””â”€â”€ + showRecommendationDetails()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ RouteBuilder (Route Planning Interface)
â”‚   â”‚   â”‚   â”œâ”€â”€ - currentRoute: POI[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - estimatedDuration: number
â”‚   â”‚   â”‚   â”œâ”€â”€ - totalDistance: number
â”‚   â”‚   â”‚   â”œâ”€â”€ + addPOI()
â”‚   â”‚   â”‚   â”œâ”€â”€ + removePOI()
â”‚   â”‚   â”‚   â”œâ”€â”€ + optimizeRoute()
â”‚   â”‚   â”‚   â””â”€â”€ + calculateEstimates()
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ OfflineManager (Offline Functionality)
â”‚   â”‚       â”œâ”€â”€ - savedRoutes: Route[]
â”‚   â”‚       â”œâ”€â”€ - offlineData: OfflineData
â”‚   â”‚       â”œâ”€â”€ - serviceWorker: ServiceWorker
â”‚   â”‚       â”œâ”€â”€ + saveRouteForOffline()
â”‚   â”‚       â”œâ”€â”€ + loadOfflineRoutes()
â”‚   â”‚       â”œâ”€â”€ + syncWhenOnline()
â”‚   â”‚       â””â”€â”€ + cacheMapTiles()
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”Œ Backend API (Flask/FastAPI)
â”‚   â”‚   â”œâ”€â”€ APIServer (Main API Controller)
â”‚   â”‚   â”‚   â”œâ”€â”€ - recommender: HybridSmartRecommender
â”‚   â”‚   â”‚   â”œâ”€â”€ - rate_limiter: RateLimiter
â”‚   â”‚   â”‚   â”œâ”€â”€ + /api/recommend [POST]
â”‚   â”‚   â”‚   â”œâ”€â”€ + /api/pois [GET]
â”‚   â”‚   â”‚   â”œâ”€â”€ + /api/route/optimize [POST]
â”‚   â”‚   â”‚   â”œâ”€â”€ + /api/offline/data [GET]
â”‚   â”‚   â”‚   â””â”€â”€ + /api/health [GET]
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ AuthenticationManager (User Management)
â”‚   â”‚   â”‚   â”œâ”€â”€ - user_sessions: Dict
â”‚   â”‚   â”‚   â”œâ”€â”€ - jwt_secret: str
â”‚   â”‚   â”‚   â”œâ”€â”€ + authenticate_user()
â”‚   â”‚   â”‚   â”œâ”€â”€ + generate_token()
â”‚   â”‚   â”‚   â””â”€â”€ + validate_session()
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ CacheController (Performance Layer)
â”‚   â”‚       â”œâ”€â”€ - redis_client: Redis
â”‚   â”‚       â”œâ”€â”€ - cache_ttl: int
â”‚   â”‚       â”œâ”€â”€ + get_cached_recommendations()
â”‚   â”‚       â”œâ”€â”€ + set_cache()
â”‚   â”‚       â””â”€â”€ + invalidate_cache()
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“Š Analytics & Monitoring
â”‚       â”œâ”€â”€ PerformanceMonitor (System Health)
â”‚       â”‚   â”œâ”€â”€ - response_times: List[float]
â”‚       â”‚   â”œâ”€â”€ - error_rates: Dict
â”‚       â”‚   â”œâ”€â”€ + track_api_performance()
â”‚       â”‚   â”œâ”€â”€ + log_user_interactions()
â”‚       â”‚   â””â”€â”€ + generate_reports()
â”‚       â”‚
â”‚       â””â”€â”€ UserAnalytics (Usage Tracking)
â”‚           â”œâ”€â”€ - user_sessions: Dict
â”‚           â”œâ”€â”€ - route_popularity: Dict
â”‚           â”œâ”€â”€ + track_route_usage()
â”‚           â”œâ”€â”€ + analyze_user_preferences()
â”‚           â””â”€â”€ + generate_insights()
â”‚
â”œâ”€â”€ ğŸ“± Mobile Application Layer
â”‚   â”œâ”€â”€ ğŸ—ï¸ Mobile App Components (React Native / Native)
â”‚   â”‚   â”œâ”€â”€ MobileApp (Main App Container)
â”‚   â”‚   â”‚   â”œâ”€â”€ - navigation: NavigationStack
â”‚   â”‚   â”‚   â”œâ”€â”€ - offlineMode: boolean
â”‚   â”‚   â”‚   â”œâ”€â”€ - currentLocation: Location
â”‚   â”‚   â”‚   â”œâ”€â”€ + initializeOfflineCapabilities()
â”‚   â”‚   â”‚   â”œâ”€â”€ + handleNetworkChange()
â”‚   â”‚   â”‚   â””â”€â”€ + syncDataWhenOnline()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ OfflineNavigationManager (Core Offline Feature)
â”‚   â”‚   â”‚   â”œâ”€â”€ - downloadedMaps: MapData[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - savedRoutes: Route[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - osrmEngine: OSRMEngine
â”‚   â”‚   â”‚   â”œâ”€â”€ + downloadMapForRegion()
â”‚   â”‚   â”‚   â”œâ”€â”€ + calculateOfflineRoute()
â”‚   â”‚   â”‚   â”œâ”€â”€ + getOfflineRecommendations()
â”‚   â”‚   â”‚   â””â”€â”€ + updateLocationOffline()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ GPSManager (Location Services)
â”‚   â”‚   â”‚   â”œâ”€â”€ - currentLocation: Coordinates
â”‚   â”‚   â”‚   â”œâ”€â”€ - locationHistory: Location[]
â”‚   â”‚   â”‚   â”œâ”€â”€ - accuracy: number
â”‚   â”‚   â”‚   â”œâ”€â”€ + getCurrentLocation()
â”‚   â”‚   â”‚   â”œâ”€â”€ + startLocationTracking()
â”‚   â”‚   â”‚   â”œâ”€â”€ + stopLocationTracking()
â”‚   â”‚   â”‚   â””â”€â”€ + calculateDistanceToNext()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ RouteNavigation (Turn-by-turn Navigation)
â”‚   â”‚   â”‚   â”œâ”€â”€ - currentRoute: Route
â”‚   â”‚   â”‚   â”œâ”€â”€ - currentStep: RouteStep
â”‚   â”‚   â”‚   â”œâ”€â”€ - voiceInstructions: VoiceEngine
â”‚   â”‚   â”‚   â”œâ”€â”€ + startNavigation()
â”‚   â”‚   â”‚   â”œâ”€â”€ + updateProgress()
â”‚   â”‚   â”‚   â”œâ”€â”€ + announceNextTurn()
â”‚   â”‚   â”‚   â””â”€â”€ + recalculateIfOffRoute()
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ DataSynchronizer (Online/Offline Sync)
â”‚   â”‚       â”œâ”€â”€ - pendingUploads: SyncData[]
â”‚   â”‚       â”œâ”€â”€ - lastSyncTime: DateTime
â”‚   â”‚       â”œâ”€â”€ + syncUserData()
â”‚   â”‚       â”œâ”€â”€ + uploadWhenOnline()
â”‚   â”‚       â”œâ”€â”€ + downloadLatestData()
â”‚   â”‚       â””â”€â”€ + resolveConflicts()
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ’¾ Local Storage & Cache
â”‚       â”œâ”€â”€ OfflineDataManager (Local Database)
â”‚       â”‚   â”œâ”€â”€ - sqlite_db: SQLiteDatabase
â”‚       â”‚   â”œâ”€â”€ - poi_cache: POICache
â”‚       â”‚   â”œâ”€â”€ - route_cache: RouteCache
â”‚       â”‚   â”œâ”€â”€ + storePOIData()
â”‚       â”‚   â”œâ”€â”€ + cacheRouteData()
â”‚       â”‚   â”œâ”€â”€ + getOfflinePOIs()
â”‚       â”‚   â””â”€â”€ + cleanOldCache()
â”‚       â”‚
â”‚       â””â”€â”€ MapTileManager (Offline Maps)
â”‚           â”œâ”€â”€ - downloaded_tiles: TileData[]
â”‚           â”œâ”€â”€ - tile_cache_size: number
â”‚           â”œâ”€â”€ + downloadTilesForRegion()
â”‚           â”œâ”€â”€ + getTileFromCache()
â”‚           â”œâ”€â”€ + manageCacheSize()
â”‚           â””â”€â”€ + updateExpiredTiles()
â”‚
â”œâ”€â”€ ğŸ—„ï¸ Data Layer
â”‚   â”œâ”€â”€ ğŸ“„ Data Sources
â”‚   â”‚   â”œâ”€â”€ POI_Database (Point of Interest Data)
â”‚   â”‚   â”‚   â”œâ”€â”€ - POI-Legazpi.csv
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + poiID: int
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + poiName: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + theme: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + lat: float
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + long: float
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ + description: string
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ - userVisits-Legazpi-allPOI.csv
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + userID: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + poiID: int
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + seqID: int
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + dateTaken: timestamp
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ + visitDuration: int
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ - user_hometown.csv
â”‚   â”‚   â”‚       â”œâ”€â”€ + UserID: string
â”‚   â”‚   â”‚       â”œâ”€â”€ + JoinDate: string
â”‚   â”‚   â”‚       â”œâ”€â”€ + Occupation: string
â”‚   â”‚   â”‚       â”œâ”€â”€ + Hometown: string
â”‚   â”‚   â”‚       â”œâ”€â”€ + current_city: string
â”‚   â”‚   â”‚       â””â”€â”€ + country: string
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ OSRM_Navigation_Data (Offline Navigation)
â”‚   â”‚   â”‚   â”œâ”€â”€ - bicycle/ (Bike Routes)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + legazpi.osm.pbf
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + legazpi.osrm.geometry
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + legazpi.osrm.cells
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ + [other OSRM files]
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ - car/ (Car Routes)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + legazpi.osm.pbf
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ + legazpi.osrm.geometry
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ + [routing data files]
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ - foot/ (Walking Routes)
â”‚   â”‚   â”‚       â”œâ”€â”€ + legazpi.osm.pbf
â”‚   â”‚   â”‚       â””â”€â”€ + [pedestrian routing data]
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ AI_Model_Data (BERT Training Output)
â”‚   â”‚       â”œâ”€â”€ - output_Legazpi_e1_bert/
â”‚   â”‚       â”‚   â”œâ”€â”€ + config.json
â”‚   â”‚       â”‚   â”œâ”€â”€ + model.safetensors
â”‚   â”‚       â”‚   â”œâ”€â”€ + tokenizer.json
â”‚   â”‚       â”‚   â”œâ”€â”€ + vocab.txt
â”‚   â”‚       â”‚   â””â”€â”€ + training_args.bin
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ - smart_cache.pkl (Optimized Cache)
â”‚   â”‚           â”œâ”€â”€ + popular_routes_from_data
â”‚   â”‚           â”œâ”€â”€ + bert_predictions_cache
â”‚   â”‚           â”œâ”€â”€ + theme_groups
â”‚   â”‚           â””â”€â”€ + distance_matrix
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“Š Models & Entities
â”‚       â”œâ”€â”€ POI (Point of Interest Model)
â”‚       â”‚   â”œâ”€â”€ + id: int
â”‚       â”‚   â”œâ”€â”€ + name: string
â”‚       â”‚   â”œâ”€â”€ + theme: string
â”‚       â”‚   â”œâ”€â”€ + coordinates: Coordinates
â”‚       â”‚   â”œâ”€â”€ + description: string
â”‚       â”‚   â”œâ”€â”€ + rating: float
â”‚       â”‚   â”œâ”€â”€ + visitDuration: int
â”‚       â”‚   â””â”€â”€ + images: string[]
â”‚       â”‚
â”‚       â”œâ”€â”€ Route (Tourism Route Model)
â”‚       â”‚   â”œâ”€â”€ + id: string
â”‚       â”‚   â”œâ”€â”€ + pois: POI[]
â”‚       â”‚   â”œâ”€â”€ + totalDistance: float
â”‚       â”‚   â”œâ”€â”€ + estimatedDuration: int
â”‚       â”‚   â”œâ”€â”€ + transportMode: TransportMode
â”‚       â”‚   â”œâ”€â”€ + difficulty: string
â”‚       â”‚   â”œâ”€â”€ + isOfflineReady: boolean
â”‚       â”‚   â””â”€â”€ + createdAt: DateTime
â”‚       â”‚
â”‚       â”œâ”€â”€ User (Tourist Profile Model)
â”‚       â”‚   â”œâ”€â”€ + id: string
â”‚       â”‚   â”œâ”€â”€ + hometown: string
â”‚       â”‚   â”œâ”€â”€ + preferences: string[]
â”‚       â”‚   â”œâ”€â”€ + visitedPOIs: POI[]
â”‚       â”‚   â”œâ”€â”€ + savedRoutes: Route[]
â”‚       â”‚   â”œâ”€â”€ + travelStyle: TravelStyle
â”‚       â”‚   â””â”€â”€ + offlineCapabilities: boolean
â”‚       â”‚
â”‚       â”œâ”€â”€ Recommendation (AI Suggestion Model)
â”‚       â”‚   â”œâ”€â”€ + poi: POI
â”‚       â”‚   â”œâ”€â”€ + score: float
â”‚       â”‚   â”œâ”€â”€ + reason: string
â”‚       â”‚   â”œâ”€â”€ + source: string (BERT/Data/Hybrid)
â”‚       â”‚   â”œâ”€â”€ + confidence: float
â”‚       â”‚   â””â”€â”€ + estimatedTime: int
â”‚       â”‚
â”‚       â””â”€â”€ NavigationStep (Route Step Model)
â”‚           â”œâ”€â”€ + instruction: string
â”‚           â”œâ”€â”€ + distance: float
â”‚           â”œâ”€â”€ + duration: int
â”‚           â”œâ”€â”€ + maneuver: Maneuver
â”‚           â”œâ”€â”€ + coordinates: Coordinates[]
â”‚           â””â”€â”€ + isOfflineReady: boolean
â”‚
â”œâ”€â”€ ğŸ”„ Integration & Communication Layer
â”‚   â”œâ”€â”€ ğŸŒ‰ API Interfaces
â”‚   â”‚   â”œâ”€â”€ IRecommendationService
â”‚   â”‚   â”‚   â”œâ”€â”€ + getRecommendations(route: POI[], count: int): Recommendation[]
â”‚   â”‚   â”‚   â”œâ”€â”€ + predictNextPOI(context: UserContext): POI
â”‚   â”‚   â”‚   â””â”€â”€ + analyzeUserPreferences(user: User): Preferences
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ INavigationService
â”‚   â”‚   â”‚   â”œâ”€â”€ + calculateRoute(start: POI, end: POI, mode: TransportMode): Route
â”‚   â”‚   â”‚   â”œâ”€â”€ + getOfflineRoute(route: Route): OfflineRoute
â”‚   â”‚   â”‚   â””â”€â”€ + updateCurrentLocation(location: Coordinates): NavigationUpdate
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ IOfflineService
â”‚   â”‚       â”œâ”€â”€ + downloadRegionData(region: BoundingBox): boolean
â”‚   â”‚       â”œâ”€â”€ + getOfflineRecommendations(route: POI[]): Recommendation[]
â”‚   â”‚       â””â”€â”€ + syncWhenOnline(): SyncResult
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“¡ Communication Protocols
â”‚   â”‚   â”œâ”€â”€ HTTPAPIClient (Web API Communication)
â”‚   â”‚   â”‚   â”œâ”€â”€ + sendRecommendationRequest()
â”‚   â”‚   â”‚   â”œâ”€â”€ + uploadUserData()
â”‚   â”‚   â”‚   â”œâ”€â”€ + downloadOfflineData()
â”‚   â”‚   â”‚   â””â”€â”€ + handleNetworkErrors()
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ WebSocketClient (Real-time Updates)
â”‚   â”‚   â”‚   â”œâ”€â”€ + connectToServer()
â”‚   â”‚   â”‚   â”œâ”€â”€ + subscribeToRouteUpdates()
â”‚   â”‚   â”‚   â”œâ”€â”€ + sendLiveLocation()
â”‚   â”‚   â”‚   â””â”€â”€ + handleDisconnection()
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ OSRMClient (Navigation Engine)
â”‚   â”‚       â”œâ”€â”€ + queryRoute()
â”‚   â”‚       â”œâ”€â”€ + getDistanceMatrix()
â”‚   â”‚       â”œâ”€â”€ + calculateIsochrone()
â”‚   â”‚       â””â”€â”€ + handleOfflineQueries()
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ”„ Data Flow Patterns
â”‚       â”œâ”€â”€ OnlineDataFlow
â”‚       â”‚   â”œâ”€â”€ User Request â†’ API â†’ BERT Model â†’ Cache â†’ Response
â”‚       â”‚   â”œâ”€â”€ Real-time Location â†’ Navigation Service â†’ Route Updates
â”‚       â”‚   â””â”€â”€ User Feedback â†’ Analytics â†’ Model Improvement
â”‚       â”‚
â”‚       â”œâ”€â”€ OfflineDataFlow
â”‚       â”‚   â”œâ”€â”€ Cached Data â†’ Local OSRM â†’ Offline Route Calculation
â”‚       â”‚   â”œâ”€â”€ Stored Recommendations â†’ Local Display
â”‚       â”‚   â””â”€â”€ GPS Location â†’ Local Navigation Updates
â”‚       â”‚
â”‚       â””â”€â”€ HybridDataFlow
â”‚           â”œâ”€â”€ Check Internet â†’ Use Online AI or Offline Cache
â”‚           â”œâ”€â”€ Background Sync â†’ Update Local Data When Connected
â”‚           â””â”€â”€ Smart Fallbacks â†’ Graceful Degradation
â”‚
â””â”€â”€ ğŸš€ Deployment & Infrastructure
    â”œâ”€â”€ ğŸŒ Production Deployment
    â”‚   â”œâ”€â”€ WebServer (Flask/Gunicorn)
    â”‚   â”‚   â”œâ”€â”€ + API Endpoints
    â”‚   â”‚   â”œâ”€â”€ + Rate Limiting
    â”‚   â”‚   â”œâ”€â”€ + Authentication
    â”‚   â”‚   â””â”€â”€ + CORS Configuration
    â”‚   â”‚
    â”‚   â”œâ”€â”€ DatabaseServer (PostgreSQL/Redis)
    â”‚   â”‚   â”œâ”€â”€ + POI Data Storage
    â”‚   â”‚   â”œâ”€â”€ + User Session Management
    â”‚   â”‚   â”œâ”€â”€ + Cache Management
    â”‚   â”‚   â””â”€â”€ + Analytics Storage
    â”‚   â”‚
    â”‚   â””â”€â”€ CDNIntegration (Static Assets)
    â”‚       â”œâ”€â”€ + Map Tiles Delivery
    â”‚       â”œâ”€â”€ + POI Images
    â”‚       â”œâ”€â”€ + Frontend Assets
    â”‚       â””â”€â”€ + OSRM Data Distribution
    â”‚
    â”œâ”€â”€ ğŸ“Š Monitoring & Analytics
    â”‚   â”œâ”€â”€ PerformanceMonitoring
    â”‚   â”‚   â”œâ”€â”€ + API Response Times
    â”‚   â”‚   â”œâ”€â”€ + BERT Model Performance
    â”‚   â”‚   â”œâ”€â”€ + Cache Hit Rates
    â”‚   â”‚   â””â”€â”€ + Error Tracking
    â”‚   â”‚
    â”‚   â””â”€â”€ UserAnalytics
    â”‚       â”œâ”€â”€ + Route Popularity Analysis
    â”‚       â”œâ”€â”€ + User Behavior Tracking
    â”‚       â”œâ”€â”€ + Recommendation Effectiveness
    â”‚       â””â”€â”€ + Offline Usage Patterns
    â”‚
    â””â”€â”€ ğŸ”§ DevOps & Maintenance
        â”œâ”€â”€ AutomatedDeployment
        â”‚   â”œâ”€â”€ + CI/CD Pipeline
        â”‚   â”œâ”€â”€ + Model Retraining Pipeline
        â”‚   â”œâ”€â”€ + Cache Regeneration
        â”‚   â””â”€â”€ + OSRM Data Updates
        â”‚
        â””â”€â”€ BackupAndRecovery
            â”œâ”€â”€ + Database Backups
            â”œâ”€â”€ + Model Snapshots
            â”œâ”€â”€ + Configuration Backups
            â””â”€â”€ + Disaster Recovery Plan

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ KEY ARCHITECTURAL PATTERNS:

1. ğŸ§  HYBRID AI ARCHITECTURE
   - Primary: BERT-based deep learning for intelligent recommendations
   - Secondary: Fast rule-based fallbacks for real-time performance
   - Cache Layer: Pre-computed predictions for instant responses

2. ğŸ“± OFFLINE-FIRST DESIGN
   - Complete OSRM routing engine embedded in mobile app
   - Cached POI data and recommendations for offline access
   - Progressive Web App capabilities for web platform

3. ğŸ”„ MICROSERVICES PATTERN
   - Recommendation Service (BERT + ML)
   - Navigation Service (OSRM + GPS)
   - User Management Service
   - Analytics Service

4. ğŸ“Š DATA-DRIVEN OPTIMIZATION
   - Real user visit patterns inform recommendations
   - Continuous learning from user feedback
   - Performance monitoring and auto-scaling

5. ğŸŒ MULTI-PLATFORM SUPPORT
   - Web: React TypeScript Progressive Web App
   - Mobile: React Native with native navigation components
   - API: RESTful services with real-time WebSocket updates

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ DEPLOYMENT READINESS:
- âœ… Production-ready Flask API (249x faster than original)
- âœ… Offline navigation capabilities (OSRM integration)
- âœ… Smart caching system for instant responses
- âœ… Mobile-first responsive design
- âœ… Progressive Web App features
- âœ… Comprehensive monitoring and analytics

This architecture supports both web and mobile platforms with full
offline capabilities, making it perfect for tourism applications
where internet connectivity may be unreliable.